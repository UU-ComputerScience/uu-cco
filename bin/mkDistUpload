#!/bin/sh

# make, distr, upload

# config:
hackageUsername="AtzeDijkstra"

for p in uu-cco*
do
  echo "=========================== ${p}"
  cd ${p}
  cabal configure
  cabal build
  cabal sdist
  dist=`ls dist/${p}-*.tar.gz`
  echo ${dist}
  if [ -r ${dist} ]
  then
    # password to be provided and/or change username
    cabal upload --username=${hackageUsername} ${dist}
  fi
  cd ..
  echo "=========================== ${p}: done"
done
